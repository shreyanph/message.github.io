<script>
    const messagesDiv = document.getElementById("messages");
    const messageInput = document.getElementById("messageInput");

    function loadMessages() {
        const messages = JSON.parse(localStorage.getItem("messages")) || [];
        messagesDiv.innerHTML = "";

        messages.forEach((msg, index) => {
            const div = document.createElement("div");
            div.className = "message";

            const nameSpan = document.createElement("span");
            nameSpan.className = "name";
            nameSpan.textContent = msg.name + ": ";

            div.appendChild(nameSpan);
            div.appendChild(document.createTextNode(msg.text));

            messagesDiv.appendChild(div);

            // âœ… Add divider AFTER this message
            if (
                index < messages.length - 1 &&
                messages[index].name !== messages[index + 1].name
            ) {
                const divider = document.createElement("div");
                divider.className = "divider";
                messagesDiv.appendChild(divider);
            }
        });
    }
</script>
